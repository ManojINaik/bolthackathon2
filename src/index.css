@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  font-family: Inter, system-ui, Avenir, Helvetica, Arial, sans-serif;
  line-height: 1.5;
  font-weight: 400;
  /* Custom cursor is now class-based for better accessibility */

  --background: 0 0% 100%;
  --foreground: 0 0% 3.9%;
  --card: 0 0% 100%;
  --card-foreground: 240 10% 3.9%;
  --popover: 0 0% 100%;
  --popover-foreground: 0 0% 3.9%;
  --primary: 252 87% 73%; /* Lilac / Purple */
  --primary-foreground: 0 0% 98%;
  --secondary: 240 4.8% 95.9%;
  --secondary-foreground: 0 0% 9%;
  --muted: 0 0% 96.1%;
  --muted-foreground: 0 0% 45.1%;
  --accent: 0 0% 96.1%;
  --accent-foreground: 0 0% 9%;
  --destructive: 0 84.2% 60.2%;
  --destructive-foreground: 0 0% 98%;
  --border: 240 5.9% 90%;
  --input: 0 0% 89.8%;
  --ring: 0 0% 3.9%;
  --chart-1: 252 87% 73%; /* Lilac / Purple */
  --chart-2: 145 63% 49%; /* Green */
  --chart-3: 45 100% 51%; /* Yellow */
  --chart-4: 210 100% 56%; /* Blue */
  --chart-5: 25 84% 60%; /* Orange */
  --radius: 0.5rem;

  /* Custom Cursor */
  --cursor-color: hsl(var(--foreground));
  --cursor-size: 24px;

  /* Navbar Animation */
  --nav-bg: rgba(255, 255, 255, 0.9);
  --nav-border: rgba(0, 0, 0, 0.05);
  --nav-item-width: 100px;
  --nav-item-gap: 0.5rem;
  --nav-animation-duration: 200ms;
  --nav-animation-easing: cubic-bezier(0.4, 0, 0.2, 1);
  
  /* Navbar Background */
  --navbar-bg: url('https://images.pexels.com/photos/3861458/pexels-photo-3861458.jpeg?auto=compress&cs=tinysrgb&w=1280');
  
  /* Hero Section Variables */
  --x: 0;
  --y: 0;

  /* Mermaid Diagram Styles */
  --mermaid-bg: #111827; /* Dark gray, almost black */
  --mermaid-node-text-color: #F9FAFB; /* Light gray / Off-white */
  --mermaid-edge-color: #9CA3AF; /* Lighter gray for edges */
  
  --mermaid-purple: hsl(var(--chart-1));
  --mermaid-purple-darker: hsl(252 87% 55%);
  --mermaid-green: hsl(var(--chart-2));
  --mermaid-green-darker: hsl(145 63% 35%);
  --mermaid-yellow: hsl(var(--chart-3));
  --mermaid-yellow-darker: hsl(45 100% 40%);
  --mermaid-blue: hsl(var(--chart-4));
  --mermaid-blue-darker: hsl(210 100% 40%);
  --mermaid-orange: hsl(var(--chart-5));
  --mermaid-orange-darker: hsl(25 84% 45%);
}

/* Custom Cursor Styles - Now opt-in with class .custom-cursor-enabled */
.custom-cursor-enabled {
  cursor: none;
}

.custom-cursor-enabled a,
.custom-cursor-enabled button,
.custom-cursor-enabled [role="button"] {
  cursor: none;
}

.curzr-arrow-pointer {
  position: fixed;
  width: var(--cursor-size);
  height: var(--cursor-size);
  pointer-events: none;
  z-index: 9999;
  top: 0;
  left: 0;
  will-change: transform;
  transition: transform 0.05s cubic-bezier(0.23, 1, 0.32, 1);
}

.curzr-arrow-pointer svg {
  width: 100%;
  height: 100%;
}

.curzr-arrow-pointer .inner {
  fill: hsl(var(--background));
}

.curzr-arrow-pointer .outer {
  fill: var(--cursor-color);
}

/* Navbar Background Styles */
.navbar-bg-image {
  background-image: var(--navbar-bg);
  background-size: cover;
  background-position: center;
  background-repeat: no-repeat;
  opacity: 0.15;
}

/* UnicornStudio Background Styles */
.unicorn-studio-bg {
  position: absolute !important;
  top: 0;
  left: 0;
  width: 100% !important;
  height: 100% !important;
  z-index: 0;
  border-radius: inherit;
  overflow: hidden;
}

/* Hide UnicornStudio watermark */
[id*="us-watermark"],
[class*="us-watermark"],
[data-us-watermark],
.unicorn-studio-bg div[style*="position: fixed"],
.unicorn-studio-bg div[style*="bottom: 0"],
.unicorn-studio-bg div[style*="bottom:0"],
.unicorn-studio-bg div[style*="right: 0"],
.unicorn-studio-bg div[style*="right:0"],
.unicorn-studio-bg div:has(> img[alt*="unicorn"]),
.unicorn-studio-bg div:has(> span:contains("Made with")),
.unicorn-studio-bg iframe div[style*="position: fixed"],
.unicorn-studio-bg iframe div[style*="bottom: 0"],
div[style*="z-index: 999999"] {
  display: none !important;
  opacity: 0 !important;
  visibility: hidden !important;
  pointer-events: none !important;
}

.unicorn-studio-bg iframe,
.unicorn-studio-bg canvas {
  width: 100% !important;
  height: 100% !important;
  border-radius: inherit !important;
  overflow: hidden !important;
}

#root {
  position: relative;
  z-index: 1;
  min-height: 100vh;
  width: 100%;
}

@keyframes float-particle {
  0% {
    transform: translateY(0) translateX(0);
    opacity: 0;
  }
  50% {
    opacity: 0.5;
  }
  100% {
    transform: translateY(-100px) translateX(100px);
    opacity: 0;
  }
}

/* Hero Section Styles */
.hero-card {
  width: 100%;
  max-width: 100%;
  aspect-ratio: 2 / 0.9;
  position: relative;
  border-radius: 4em;
  filter: drop-shadow(0 10px 20px rgba(0, 0, 0, 0.1));
  min-height: 600px;
  overflow: hidden;
}

.hero-assets {
  position: absolute;
  inset: 0;
  border-radius: 4em;
  z-index: 0;
  background: radial-gradient(
    circle at 50% 50%,
    hsl(var(--primary) / 0.15),
    hsl(var(--primary) / 0.05) 40%,
    transparent 100%
  );
}

.hero-assets::before,
.hero-assets::after {
  content: "";
  position: absolute;
  inset: -50%;
  background: radial-gradient(
    circle,
    hsl(var(--primary) / 0.1) 0%,
    transparent 70%
  );
  opacity: 0.5;
  filter: blur(60px);
  animation: float-particle 10s infinite alternate;
}

.hero-assets::after {
  animation-delay: -5s;
  animation-duration: 15s;
  opacity: 0.3;
}

.hero-assets img.foreground {
  position: absolute;
  top: 0;
  left: 50%;
  translate: -50% -9%;
  height: 120%;
  width: auto;
  transform: translate(calc(var(--x) * 40px), calc(var(--y) * 10px));
  object-fit: contain;
  user-select: none;
  pointer-events: none;
  z-index: 2;
  filter: drop-shadow(0 20px 40px rgba(0, 0, 0, 0.2));
  transition: transform 0.8s cubic-bezier(0.33, 1, 0.68, 1);
}

.hero-title {
  position: absolute;
  left: 50%;
  top: 8%;
  margin: 0;
  font-size: clamp(5rem, 15vw, 12rem);
  text-transform: uppercase;
  font-family: "Bebas Neue", sans-serif;
  color: hsl(var(--primary));
  transform: translate(calc(-50% + var(--x) * -30px), calc(var(--y) * -20px));
  transition: transform 0.8s cubic-bezier(0.33, 1, 0.68, 1);
  z-index: 4;
  mix-blend-mode: multiply;
  opacity: 0.9;
}

.hero-content {
  min-height: 32%;
  position: absolute;
  bottom: 0;
  width: 100%;
  color: hsl(var(--foreground));
  display: grid;
  gap: 0.2rem;
  place-items: center;
  align-content: center;
  padding-bottom: 0.5rem;
  z-index: 3;
}

@media (max-width: 768px) {
  .hero-card {
    border-radius: 2em;
    aspect-ratio: 2 / 1.2;
  }
  
  .hero-assets {
    border-radius: 2em;
  }
  
  .hero-content {
    min-height: 25%;
  }
}
@media (max-width: 768px) {
  .hero-card {
    min-height: 400px;
    border-radius: 2em;
  }
  .hero-assets {
    border-radius: 2em;
  }
  .hero-content {
    flex-direction: column;
    align-items: center;
    bottom: 10%;
  }
}

/* Navbar Styles */
@keyframes float {
  0% {
    transform: translateY(0px);
  }
  50% {
    transform: translateY(-10px);
  }
  100% {
    transform: translateY(0px);
  }
}

.dark {
  --nav-bg: rgba(0, 0, 0, 0.8);
  --nav-border: rgba(255, 255, 255, 0.1);
  --background: 0 0% 3.9%;
  --foreground: 0 0% 98%;
  --card: 240 10% 3.9%;
  --card-foreground: 0 0% 98%;
  --popover: 0 0% 3.9%;
  --popover-foreground: 0 0% 98%;
  --primary: 252 87% 73%;
  --primary-foreground: 0 0% 98%;
  --secondary: 240 3.7% 15.9%;
  --secondary-foreground: 0 0% 98%;
  --muted: 0 0% 14.9%;
  --muted-foreground: 0 0% 63.9%;
  --accent: 0 0% 14.9%;
  --accent-foreground: 0 0% 98%;
  --destructive: 0 62.8% 30.6%;
  --destructive-foreground: 0 0% 98%;
  --border: 0 0% 14.9%;
  --input: 0 0% 14.9%;
  --ring: 0 0% 83.1%;
  --chart-1: 252 87% 73%;
  --chart-2: 219 70% 55%;
  --chart-3: 174 70% 40%;
  --chart-4: 318 70% 65%;
  --chart-5: 41 80% 65%;

  /* Custom Cursor */
  --cursor-color: hsl(var(--foreground));

  /* Mermaid Diagram Styles for Dark Mode */
  --mermaid-bg: #111827;
  --mermaid-node-text-color: #F9FAFB;
  --mermaid-edge-color: #6B7280; /* Slightly darker gray for edges in dark mode */

  --mermaid-purple: hsl(var(--chart-1));
  --mermaid-purple-darker: hsl(252 87% 55%);
  --mermaid-green: hsl(var(--chart-2));
  --mermaid-green-darker: hsl(145 63% 35%);
  --mermaid-yellow: hsl(var(--chart-3));
  --mermaid-yellow-darker: hsl(45 100% 40%);
  --mermaid-blue: hsl(var(--chart-4));
  --mermaid-blue-darker: hsl(210 100% 40%);
  --mermaid-orange: hsl(var(--chart-5));
  --mermaid-orange-darker: hsl(25 84% 45%);
}

.bg-grid-white {
  background-image: linear-gradient(to right, rgba(255,255,255,0.05) 1px, transparent 1px), linear-gradient(to bottom, rgba(255,255,255,0.05) 1px, transparent 1px);
  background-size: 20px 20px;
}

body {
  background-color: hsl(var(--background));
  color: hsl(var(--foreground));
  margin: 0;
  padding: 0;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

@layer base {
  * {
    @apply border-border;
  }
  body {
    @apply bg-background text-foreground;
  }
}

@layer utilities {
  .app-container {
    @apply w-full flex flex-col h-screen bg-background transition-all duration-200;
  }

  .app-header {
    @apply flex justify-between items-center w-full px-6 h-16 border-b border-border bg-card/50 backdrop-blur-sm;
  }

  .app-header-left {
    @apply flex items-center flex-grow;
  }

  .app-name {
    @apply text-foreground m-0 text-xl font-bold mx-8;
  }

  .search-wrapper {
    @apply rounded-full bg-accent/50 pr-3 h-10 flex justify-between items-center w-full max-w-md text-muted-foreground;
  }

  .search-input {
    @apply border-none flex-1 outline-none h-full px-5 text-sm bg-transparent;
  }

  .app-header-right {
    @apply flex items-center;
  }

  .app-sidebar {
    @apply w-64 h-screen bg-card border-r border-border flex flex-col;
  }

  .app-sidebar-link {
    @apply text-muted-foreground my-4 transition-all duration-200 rounded-full flex-shrink-0 w-10 h-10 flex justify-center items-center hover:bg-accent hover:text-foreground;
  }

  .app-sidebar-link.active {
    @apply bg-primary text-primary-foreground;
  }

  .projects-section {
    @apply flex-1 overflow-y-auto p-6 space-y-6;
  }

  .projects-section-line {
    @apply flex justify-between items-center pb-8;
  }

  .projects-status {
    @apply grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4;
  }

  .item-status {
    @apply flex flex-col mr-4 relative;
  }

  .status-number {
    @apply text-3xl font-bold text-foreground;
  }

  .status-type {
    @apply text-muted-foreground relative pr-6;
  }

  .view-actions {
    @apply flex items-center;
  }

  .project-boxes {
    @apply grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6;
  }

  .project-boxes.jsGridView {
    @apply flex flex-wrap;
  }

  .project-boxes.jsGridView .project-box-wrapper {
    @apply w-1/3;
  }

  .project-box {
    @apply rounded-xl border bg-card text-card-foreground shadow p-6;
  }

  .project-box-header {
    @apply flex items-center justify-between mb-4 text-foreground;
  }

  .box-progress-wrapper {
    @apply mt-6;
  }

  .box-progress-bar {
    @apply w-full h-1 rounded-full bg-background/50 my-2 overflow-hidden;
  }

  .box-progress {
    @apply block h-1 rounded-full;
  }

  .project-box-footer {
    @apply flex justify-between items-center mt-6 pt-4 border-t border-border/10;
  }

  .participants {
    @apply flex items-center;
  }

  .days-left {
    @apply bg-accent text-xs rounded-full px-4 py-1.5 font-medium;
  }

  .bento-grid {
    @apply grid;
    grid-template-columns: repeat(3, 1fr);
    grid-template-rows: repeat(3, 1fr);
    gap: 2rem;
  }

  .text-gradient {
    @apply bg-gradient-to-r from-purple-400 to-indigo-500 bg-clip-text text-transparent;
  }

  .bento-card {
    @apply rounded-[2.5rem] flex flex-col items-start p-8 relative bg-card shadow-lg hover:shadow-xl transition-all duration-300;
  }
}

/* Custom scrollbar */
::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

::-webkit-scrollbar-track {
  background: hsl(var(--secondary));
}

::-webkit-scrollbar-thumb {
  background: hsl(var(--muted-foreground)/0.3);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
  background: hsl(var(--muted-foreground)/0.5);
}

/* Smooth scrolling */
html {
  scroll-behavior: smooth;
}

/* Mermaid Diagram Custom Styles */
.mermaid-diagram-wrapper {
  background-color: var(--mermaid-bg);
  padding: 1rem;
  border-radius: var(--radius);
  overflow: auto; /* Add scroll for large diagrams */
}

.mermaid-render-area svg {
  display: block; /* Helps with sizing */
  margin: auto; /* Center the diagram if it's smaller than container */
  max-width: 100%; /* Ensure responsiveness */
  background-color: transparent !important; /* Override potential inline styles from mermaid */
}

/* Default Node Styles (applied if no specific class matches) */
.mermaid-render-area .node > rect,
.mermaid-render-area .node > circle,
.mermaid-render-area .node > ellipse,
.mermaid-render-area .node > polygon {
  fill: #2d3748; /* Dark gray fill */
  stroke: #4a5568; /* Slightly lighter gray border */
  stroke-width: 2px;
  rx: 8px; /* Rounded corners */
  ry: 8px; /* Rounded corners */
}

.mermaid-render-area .node .label,
.mermaid-render-area .node tspan {
  fill: var(--mermaid-node-text-color) !important; /* Ensure text color is applied */
  font-family: inherit;
  font-size: 14px;
}

/* Edge Path Styles */
.mermaid-render-area .edgePath path.path {
  stroke: var(--mermaid-edge-color);
  stroke-width: 2px;
}
.mermaid-render-area .edgePath .arrowhead {
  fill: var(--mermaid-edge-color);
}

/* Edge Label Styles (if any) */
.mermaid-render-area .edgeLabel tspan {
  fill: var(--mermaid-node-text-color);
  font-size: 12px;
}

/* Specific Class Styles for Nodes */
/* Purple Node */
.mermaid-render-area .classPurple > rect,
.mermaid-render-area .classPurple > circle,
.mermaid-render-area .classPurple > ellipse,
.mermaid-render-area .classPurple > polygon {
  fill: var(--mermaid-purple-darker);
  stroke: var(--mermaid-purple);
}
.mermaid-render-area .classPurple .label { color: var(--mermaid-node-text-color); }

/* Green Node */
.mermaid-render-area .classGreen > rect,
.mermaid-render-area .classGreen > circle,
.mermaid-render-area .classGreen > ellipse,
.mermaid-render-area .classGreen > polygon {
  fill: var(--mermaid-green-darker);
  stroke: var(--mermaid-green);
}
.mermaid-render-area .classGreen .label { color: var(--mermaid-node-text-color); }

/* Yellow Node */
.mermaid-render-area .classYellow > rect,
.mermaid-render-area .classYellow > circle,
.mermaid-render-area .classYellow > ellipse,
.mermaid-render-area .classYellow > polygon {
  fill: var(--mermaid-yellow-darker);
  stroke: var(--mermaid-yellow);
}
.mermaid-render-area .classYellow .label { color: var(--mermaid-node-text-color); }

/* Blue Node */
.mermaid-render-area .classBlue > rect,
.mermaid-render-area .classBlue > circle,
.mermaid-render-area .classBlue > ellipse,
.mermaid-render-area .classBlue > polygon {
  fill: var(--mermaid-blue-darker);
  stroke: var(--mermaid-blue);
}
.mermaid-render-area .classBlue .label { color: var(--mermaid-node-text-color); }

/* Orange Node */
.mermaid-render-area .classOrange > rect,
.mermaid-render-area .classOrange > circle,
.mermaid-render-area .classOrange > ellipse,
.mermaid-render-area .classOrange > polygon {
  fill: var(--mermaid-orange-darker);
  stroke: var(--mermaid-orange);
}
.mermaid-render-area .classOrange .label { color: var(--mermaid-node-text-color); }


/* If you have a specific container for the roadmap, ensure it has a dark background */
.roadmap-display-container { /* Assuming you might wrap the <MermaidDiagram> component */
  background-color: var(--mermaid-bg); /* Or your main page dark background */
  padding: 1rem;
  border-radius: var(--radius);
}